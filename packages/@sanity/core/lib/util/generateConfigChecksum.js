'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _crypto = require('crypto');

var _crypto2 = _interopRequireDefault(_crypto);

var _fsPromise = require('fs-promise');

var _fsPromise2 = _interopRequireDefault(_fsPromise);

var _deepSortObject = require('deep-sort-object');

var _deepSortObject2 = _interopRequireDefault(_deepSortObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function generateConfigChecksum(configPath) {
  return _fsPromise2.default.readJson(configPath).then(_deepSortObject2.default).then(generateChecksum);
}

function generateChecksum(obj) {
  return _crypto2.default.createHash('sha256').update(JSON.stringify(obj)).digest('hex');
}

exports.default = generateConfigChecksum;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2dlbmVyYXRlQ29uZmlnQ2hlY2tzdW0uanMiXSwibmFtZXMiOlsiZ2VuZXJhdGVDb25maWdDaGVja3N1bSIsImNvbmZpZ1BhdGgiLCJyZWFkSnNvbiIsInRoZW4iLCJnZW5lcmF0ZUNoZWNrc3VtIiwib2JqIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkaWdlc3QiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0Esc0JBQVQsQ0FBZ0NDLFVBQWhDLEVBQTRDO0FBQzFDLFNBQU8sb0JBQUlDLFFBQUosQ0FBYUQsVUFBYixFQUNKRSxJQURJLDJCQUVKQSxJQUZJLENBRUNDLGdCQUZELENBQVA7QUFHRDs7QUFFRCxTQUFTQSxnQkFBVCxDQUEwQkMsR0FBMUIsRUFBK0I7QUFDN0IsU0FBTyxpQkFBT0MsVUFBUCxDQUFrQixRQUFsQixFQUNKQyxNQURJLENBQ0dDLEtBQUtDLFNBQUwsQ0FBZUosR0FBZixDQURILEVBRUpLLE1BRkksQ0FFRyxLQUZILENBQVA7QUFHRDs7a0JBRWNWLHNCIiwiZmlsZSI6ImdlbmVyYXRlQ29uZmlnQ2hlY2tzdW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcbmltcG9ydCBmc3AgZnJvbSAnZnMtcHJvbWlzZSdcbmltcG9ydCBkZWVwU29ydE9iamVjdCBmcm9tICdkZWVwLXNvcnQtb2JqZWN0J1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbmZpZ0NoZWNrc3VtKGNvbmZpZ1BhdGgpIHtcbiAgcmV0dXJuIGZzcC5yZWFkSnNvbihjb25maWdQYXRoKVxuICAgIC50aGVuKGRlZXBTb3J0T2JqZWN0KVxuICAgIC50aGVuKGdlbmVyYXRlQ2hlY2tzdW0pXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ2hlY2tzdW0ob2JqKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JylcbiAgICAudXBkYXRlKEpTT04uc3RyaW5naWZ5KG9iaikpXG4gICAgLmRpZ2VzdCgnaGV4Jylcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVDb25maWdDaGVja3N1bVxuIl19